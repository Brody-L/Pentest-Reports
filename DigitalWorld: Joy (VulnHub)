# JOY
OS: Ubuntu (Debian 4.9.130-2)

Web Technology:

IP:

USERS:
patrick

CREDENTIALS:
patrick:apollo098765
root:howtheheckdoiknowwhattherootpasswordis

#####################################################
Attack Vectors (To-Try List):

21 → ftp → Anonymous Login 
22 → ssh → Brute Force 
25 → smtp → 
80 → http → Manual Inspection → Directory/Files → File Inclusion → 
110 → pop3 → 
139 → netbios-ssn → Enum4Linux → smbclient → 
143 → imap → 
445 → netbios-ssn → 
465 → smtp → 
587 → smtp → 
993 → ssl/imap → 
995 → ssl/pop3 → 

#####################################################
NMAP RESULTS:
PORT    STATE SERVICE     REASON         VERSION
21/tcp  open  ftp         syn-ack ttl 64 ProFTPD 1.2.10
        | ftp-anon: Anonymous FTP login allowed (FTP code 230)
        | drwxrwxr-x   2 ftp      ftp          4096 Jan  6  2019 download
        |_drwxrwxr-x   2 ftp      ftp          4096 Jan 10  2019 upload

22/tcp  open  ssh         syn-ack ttl 64 Dropbear sshd 0.34 (protocol 2.0)

25/tcp  open  smtp        syn-ack ttl 64 Postfix smtpd
        |_smtp-commands: JOY.localdomain, PIPELINING, SIZE 10240000, VRFY, ETRN, STARTTLS, ENHANCEDSTATUSCODES, 8BITMIME, DSN, SMTPUTF8

80/tcp  open  http        syn-ack ttl 64 Apache httpd 2.4.25 ((Debian))
        | http-methods: 
        |_  Supported Methods: GET HEAD POST OPTIONS
        |_http-title: Index of /
        |_http-server-header: Apache/2.4.25 (Debian)
        | http-ls: Volume /
        | SIZE  TIME              FILENAME
        | -     2016-07-19 20:03  ossec/

110/tcp open  pop3        syn-ack ttl 64 Dovecot pop3d
        |_pop3-capabilities: AUTH-RESP-CODE TOP SASL UIDL PIPELINING STLS CAPA RESP-CODES

139/tcp open  netbios-ssn syn-ack ttl 64 Samba smbd 3.X - 4.X (workgroup: WORKGROUP)

143/tcp open  imap        syn-ack ttl 64 Dovecot imapd

445/tcp open  netbios-ssn syn-ack ttl 64 Samba smbd 4.5.12-Debian (workgroup: WORKGROUP)

465/tcp open  smtp        syn-ack ttl 64 Postfix smtpd

587/tcp open  smtp        syn-ack ttl 64 Postfix smtpd

993/tcp open  ssl/imap    syn-ack ttl 64 Dovecot imapd

995/tcp open  ssl/pop3    syn-ack ttl 64 Dovecot pop3d
        |_pop3-capabilities: AUTH-RESP-CODE TOP SASL(PLAIN) UIDL USER PIPELINING CAPA RESP-CODES

Host script results:
        | p2p-conficker: 
        |   Checking for Conficker.C or higher...
        |   Check 1 (port 59044/tcp): CLEAN (Couldn't connect)
        |   Check 2 (port 23152/tcp): CLEAN (Couldn't connect)
        |   Check 3 (port 57802/udp): CLEAN (Failed to receive data)
        |   Check 4 (port 37017/udp): CLEAN (Failed to receive data)
        |_  0/4 checks are positive: Host is CLEAN or ports are blocked
        | nbstat: NetBIOS name: JOY, NetBIOS user: <unknown>, NetBIOS MAC: <unknown> (unknown)
        | Names:
        |   JOY<00>              Flags: <unique><active>
        |   JOY<03>              Flags: <unique><active>
        |   JOY<20>              Flags: <unique><active>
        |   \x01\x02__MSBROWSE__\x02<01>  Flags: <group><active>
        |   WORKGROUP<00>        Flags: <group><active>
        |   WORKGROUP<1d>        Flags: <unique><active>
        |   WORKGROUP<1e>        Flags: <group><active>
        | Statistics:
        |   00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
        |   00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
        |_  00 00 00 00 00 00 00 00 00 00 00 00 00 00
        | smb2-security-mode: 
        |   3.1.1: 
        |_    Message signing enabled but not required
        | smb2-time: 
        |   date: 2022-05-07T00:35:14
        |_  start_date: N/A
        | smb-os-discovery: 
        |   OS: Windows 6.1 (Samba 4.5.12-Debian)
        |   Computer name: joy
        |   NetBIOS computer name: JOY\x00
        |   Domain name: \x00
        |   FQDN: joy
        |_  System time: 2022-05-07T08:35:14+08:00
        | smb-security-mode: 
        |   account_used: guest
        |   authentication_level: user
        |   challenge_response: supported
        |_  message_signing: disabled (dangerous, but default)
        |_clock-skew: mean: -2h40m12s, deviation: 4h37m07s, median: -13s


#####################################################
Steps Taken():
[+] nmap -Pn -n -vvv -sC -sV -oN scan 192.168.1.104 -p-
[+] File Inclusion FUZZ → 192.168.1.104/ossec/index.php?f=FUZZ
[+] ftp anonymous login 
→ the “Directory” contains a username and names of files in a directory
[+] 
[+]
[+]
[+]
[+]
[+]
[+]
[+]
[+]
[+]
[+]
[+]

#####################################################
Web Services Enumeration:  

[  +  NIKTO   ]

[  +  WFUZZ  ]

FILES:   /   (Web Root)

DIRECTORIES:  /  (Web Root)
/ossec/FUZZ
css
js
tmp
img
lib
site

#####################################################
OTHER:  
FTP Anonymous Login:
cat patricksecretsofjoy
credentials for JOY:
patrick:apollo098765
root:howtheheckdoiknowwhattherootpasswordis

Directory
Patrick's Directory

total 132
drwxr-xr-x              18 patrick patrick      4096    May     7       09:05 .
drwxr-xr-x      4 root    root                  4096    Jan     6  2019 ..
-rw-r--r--              1 patrick patrick    0                  May  7  08:35   6UwsjS5bgymESlm0dTDgymdqDFSKuO0K.txt
-rw-r--r--              1 patrick patrick       24              May     7       09:00   9yP7npKyB9CaYDdaXErRxvRBGu6K3MmwEfLsCyUWjpEZmR1hyrShZMN9zy9Ywa6Z.txt
-rw-------              1 patrick patrick       185             Jan     28  2019        .bash_history
-rw-r--r--              1 patrick patrick       220             Dec     23  2018        .bash_logout
-rw-r--r--              1 patrick patrick       3526    Dec     23  2018        .bashrc
-rw-r--r--              1 patrick patrick       24              May  7 08:35    bTXfc66LmnZgZi1Bv87bbP0TEnvZD4f5FhlOPhCjfxXUg2PXyxwoFMvCXxAFOEKG.txt
drwx------              7 patrick patrick       4096    Jan     10  2019        .cache
drwx------              10 patrick patrick      4096    Dec     26  2018        .config
drwxr-xr-x      2 patrick patrick       4096    Dec     26  2018        Desktop
drwxr-xr-x      2 patrick patrick       4096    Dec     26  2018        Documents
drwxr-xr-x      3 patrick patrick       4096    Jan     6  2019         Downloads
-rw-r--r--              1 patrick patrick    0                  May  7 08:50    GAgtGDqlhC6EEpvXLkFZIJWW0Gac9frO.txt
drwx------              3 patrick patrick       4096    Dec     26  2018        .gnupg
-rw-r--r--              1 patrick patrick       24              May  7 08:50    GyQ7BqRdlpirxm18iefuXsELyIXiWl3VeftfFlWcJbww4Iy7AvCaczJgQajm3ZJc.txt
-rwxrwxrwx      1 patrick patrick    0                  Jan     9  2019         haha
-rw-r--r--              1 patrick patrick    0                  May  7 09:05    hRKuYwjVhFYIKBfucKpT4GhCY0MQD0OA.txt
-rw-------              1 patrick patrick       8532    Jan     28  2019        .ICEauthority
-rw-r--r--              1 patrick patrick       24              May  7 08:55    JcelMLXqOhXaAspuZiSe37T3X6fZHAFpq3uOejUkoGLuvDugeSK8sJXHFFmtaSJl.txt
drwxr-xr-x      3 patrick patrick       4096    Dec     26  2018        .local
drwx------              5 patrick patrick       4096    Dec     28  2018        .mozilla
drwxr-xr-x      2 patrick patrick       4096    Dec     26  2018        Music
-rw-r--r--              1 patrick patrick       24              May  7 08:45    mZOYLMlL4J8BQkn7Z3Xa7aAA5dvL5C1fba501Yj5rdkqEtWjCin8NTeQCO4C7XT0.txt
drwxr-xr-x      2 patrick patrick       4096    Jan     8  2019         .nano
-rw-r--r--              1 patrick patrick    0                  May  7 08:55    oqx0UYdRxsdjzKlypDenYBbe8KKMWz39.txt
-rw-r--r--              1 patrick patrick    0                  May  7 08:40    OTHJo4sD5beP2YED0XX4sykbr1RX2MpR.txt
drwxr-xr-x      2 patrick patrick       4096    Dec     26  2018        Pictures
-rw-r--r--              1 patrick patrick       24              May  7 09:05    pKFkhP52TL6j3rcZRfneIJAFdrGYodqqqErplCKj8HbbsxeMVuMTEEmlRbaL3XEA.txt
-rw-r--r--              1 patrick patrick       675             Dec     23  2018        .profile
drwxr-xr-x      2 patrick patrick       4096    Dec     26  2018        Public
d---------              2 root    root                  4096    Jan     9  2019         script
drwx------              2 patrick patrick       4096    Dec     26  2018        .ssh
-rw-r--r--              1 patrick patrick    0                  Jan     6  2019         Sun
-rw-r--r--              1 patrick patrick    0                  May  7 08:45    Swu1gWXrKMuZWQwmEdJmVRYjl7QK3DDW.txt
drwxr-xr-x      2 patrick patrick       4096    Dec     26  2018        Templates
-rw-r--r--              1 patrick patrick    0                  May  7 09:00    TNXmherel0yrpanEdIuEcpDsTAT9GKTd.txt
-rw-r--r--              1 patrick patrick    0                  Jan     6  2019         .txt
-rw-r--r--              1 patrick patrick       407             Jan     27  2019        version_control
drwxr-xr-x      2 patrick patrick       4096    Dec     26  2018        Videos
-rw-r--r--              1 patrick patrick       24              May  7  08:40   z3UVY5DR8OgvTBxzH5J3vgOb4XnlLl333op1JHevTtCwAGXU4FeGWtwkjmSa2Q3r.txt
You should know where the directory can be accessed.
Information of this Machine!
Linux JOY 4.9.0-8-amd64 #1 SMP Debian 4.9.130-2 (2018-10-27) x86_64 GNU/Linux

Enum4Linux
Looking up status of 192.168.1.104
        JOY                                     <00> -         B <ACTIVE>  Workstation Service
        JOY                                     <03> -         B <ACTIVE>  Messenger Service
        JOY                                     <20> -         B <ACTIVE>  File Server Service
        ..__MSBROWSE__. <01> -                  <GROUP> B <ACTIVE>  Master Browser
        WORKGROUP       <00> -                  <GROUP> B <ACTIVE>  Domain/Workgroup Name
        WORKGROUP       <1d> -          B <ACTIVE>  Master Browser
        WORKGROUP       <1e> -                  <GROUP> B <ACTIVE>  Browser Service Elections

[+] Got OS info for 192.168.1.104 from srvinfo: 
        JOY            Wk Sv PrQ Unx NT SNT Samba 4.5.16-Debian
        platform_id     :       500
        os version      :       6.1
        server type     :       0x809a03

        Sharename       Type      Comment
        ---------       ----      -------
        print$          Disk      Printer Drivers
        IPC$            IPC       IPC Service (Samba 4.5.16-Debian)

        WORKGROUP            JOY
[+] Found domain(s):
        [+] JOY
        [+] Builtin
                                                                                                                                                                                                                                           
S-1-22-1-1000 Unix User\patrick (Local User)                                                                                                                                                                                               
S-1-22-1-1001 Unix User\ftp (Local User)

#####################################################
Take Away Concepts


